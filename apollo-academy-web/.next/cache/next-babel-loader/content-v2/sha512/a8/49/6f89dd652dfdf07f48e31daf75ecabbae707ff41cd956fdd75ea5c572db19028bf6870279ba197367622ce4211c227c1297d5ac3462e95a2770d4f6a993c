{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { withUrqlClient } from \"next-urql\";\nimport { useRouter } from \"next/router\";\nimport { useEffect } from \"react\";\nimport { usePayMutation } from \"../../generated/graphql\";\nimport { urqlClient } from \"../../utils/urqlClient\";\n\nconst Pay = () => {\n  const router = useRouter();\n  const {\n    pid,\n    key\n  } = router.query;\n  const [, pay] = usePayMutation();\n  useEffect(() => {\n    const classroom = typeof pid == 'string' ? pid : '-1';\n    const payment_key = typeof key == 'string' ? key : '-1';\n\n    async function makePayment() {\n      const payment = await pay({\n        id: classroom,\n        key: payment_key\n      });\n      return payment;\n    }\n\n    makePayment().finally(() => {\n      router.push('/home');\n    });\n  }, []);\n  return /*#__PURE__*/_jsx(_Fragment, {});\n};\n\nexport default withUrqlClient(urqlClient, {\n  ssr: true\n})(Pay);","map":null,"metadata":{},"sourceType":"module"}