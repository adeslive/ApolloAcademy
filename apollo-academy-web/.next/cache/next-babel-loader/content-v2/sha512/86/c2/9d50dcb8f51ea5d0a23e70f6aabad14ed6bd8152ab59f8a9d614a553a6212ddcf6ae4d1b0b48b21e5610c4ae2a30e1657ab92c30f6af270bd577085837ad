{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { Button } from \"@chakra-ui/button\";\nimport { Box } from \"@chakra-ui/layout\";\nimport { Form, Formik } from \"formik\";\nimport { withUrqlClient } from \"next-urql\";\nimport { useRouter } from \"next/router\";\nimport InputField from \"../components/InputField\";\nimport Layout from \"../components/Layout\";\nimport { Text } from \"@chakra-ui/react\";\nimport { urqlClient } from \"../utils/urqlClient\";\nimport { useRestoreMutation } from \"../generated/graphql\";\n\n//import { usecoderestoreMutation } from '../generated/graphql';\nconst decodeParams = input => {\n  if (typeof input === 'string') {\n    return input;\n  } else if (typeof input !== 'undefined') {\n    return input.join('');\n  }\n\n  return '';\n};\n\nconst coderestore = ({}) => {\n  const router = useRouter();\n  const [, restore] = useRestoreMutation();\n\n  const CheckConnection = () => {\n    if (email === '') {\n      router.push('/');\n    }\n\n    return /*#__PURE__*/_jsx(_Fragment, {});\n  };\n\n  const email = decodeParams(router.query.email);\n  return /*#__PURE__*/_jsx(Layout, {\n    children: /*#__PURE__*/_jsx(Formik, {\n      initialValues: {\n        code: \"\",\n        email: email\n      },\n      onSubmit: async (values, {\n        setErrors\n      }) => {\n        var _res$data, _res$data2;\n\n        const res = await restore(values);\n\n        if ((_res$data = res.data) !== null && _res$data !== void 0 && _res$data.restore.errors) {} else if ((_res$data2 = res.data) !== null && _res$data2 !== void 0 && _res$data2.restore.user) {\n          router.push({\n            pathname: \"/changepassword\",\n            query: {\n              email: values.email\n            }\n          });\n        }\n      },\n      children: ({\n        values,\n        isSubmitting\n      }) => /*#__PURE__*/_jsxs(Form, {\n        children: [/*#__PURE__*/_jsx(Text, {\n          fontSize: \"2xl\",\n          children: \"Se ha enviado a su correo en codigo para la restauraci\\xF3n de su contrase\\xF1a\"\n        }), /*#__PURE__*/_jsx(Text, {\n          fontSize: \"2xl\",\n          children: \"Introduzca el c\\xF3digo\"\n        }), /*#__PURE__*/_jsx(Box, {\n          mt: 4,\n          children: /*#__PURE__*/_jsx(InputField, {\n            name: \"code\",\n            label: \"C\\xF3digo\",\n            placeholder: \"_____\",\n            type: \"text\",\n            required: true\n          })\n        }), /*#__PURE__*/_jsx(Button, {\n          mt: 4,\n          type: \"submit\",\n          colorScheme: \"teal\",\n          children: \"Restaurar contrase\\xF1a\"\n        })]\n      })\n    })\n  });\n};\n\nexport default withUrqlClient(urqlClient)(coderestore);","map":null,"metadata":{},"sourceType":"module"}