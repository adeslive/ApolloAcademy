{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Button } from \"@chakra-ui/button\";\nimport { Box } from \"@chakra-ui/layout\";\nimport { Form, Formik } from \"formik\";\nimport { withUrqlClient } from \"next-urql\";\nimport { useRouter } from \"next/router\";\nimport InputField from \"../components/InputField\";\nimport Layout from \"../components/Layout\";\nimport { Text } from \"@chakra-ui/react\";\nimport ErrorMap from \"../utils/error-map\";\nimport { urqlClient } from \"../utils/urqlClient\";\nimport { useChangePasswordMutation } from \"../generated/graphql\";\n\n//import { usecoderestoreMutation } from '../generated/graphql';\nconst decodeParams = input => {\n  if (typeof input === 'string') {\n    return input;\n  } else if (typeof input !== 'undefined') {\n    return input.join('');\n  }\n\n  return '';\n};\n\nconst changePassword = ({}) => {\n  const router = useRouter();\n  const [, changePass] = useChangePasswordMutation();\n  const email = decodeParams(router.query.email);\n  return /*#__PURE__*/_jsx(Layout, {\n    children: /*#__PURE__*/_jsx(Formik, {\n      initialValues: {\n        email: email,\n        password: \"\",\n        passwordr: \"\"\n      },\n      onSubmit: async (values, {\n        setErrors\n      }) => {\n        var _res$data, _res$data3;\n\n        const res = await changePass(values);\n\n        if ((_res$data = res.data) !== null && _res$data !== void 0 && _res$data.changePassword.errors) {\n          var _res$data2;\n\n          setErrors(ErrorMap((_res$data2 = res.data) === null || _res$data2 === void 0 ? void 0 : _res$data2.changePassword.errors));\n        } else if ((_res$data3 = res.data) !== null && _res$data3 !== void 0 && _res$data3.changePassword.user) {\n          router.push('/');\n        }\n      },\n      children: ({\n        values,\n        isSubmitting\n      }) => /*#__PURE__*/_jsxs(Form, {\n        children: [/*#__PURE__*/_jsx(Text, {\n          fontSize: \"2xl\",\n          children: \"Nueva Contrase\\xF1a\"\n        }), /*#__PURE__*/_jsx(Box, {\n          mt: 4,\n          children: /*#__PURE__*/_jsx(InputField, {\n            name: \"password\",\n            label: \"Nueva contrase\\xF1a\",\n            placeholder: \"\",\n            type: \"password\",\n            required: true\n          })\n        }), /*#__PURE__*/_jsx(Text, {\n          fontSize: \"2xl\",\n          children: \"Repetir Contrase\\xF1a\"\n        }), /*#__PURE__*/_jsx(Box, {\n          mt: 4,\n          children: /*#__PURE__*/_jsx(InputField, {\n            name: \"passwordr\",\n            label: \"Repetir contrase\\xF1a\",\n            placeholder: \"\",\n            type: \"password\",\n            required: true\n          })\n        }), /*#__PURE__*/_jsx(Button, {\n          mt: 4,\n          type: \"submit\",\n          colorScheme: \"teal\",\n          children: \"Restaurar contrase\\xF1a\"\n        })]\n      })\n    })\n  });\n};\n\nexport default withUrqlClient(urqlClient)(changePassword);","map":null,"metadata":{},"sourceType":"module"}