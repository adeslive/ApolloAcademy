{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport _defineProperty from \"C:/Users/Usuario/Documents/Proyectos/apollo-academy/apollo-academy-web/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { createElement as _createElement } from \"react\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _slicedToArray from \"C:/Users/Usuario/Documents/Proyectos/apollo-academy/apollo-academy-web/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { Box, Flex, Heading, Link, SimpleGrid, Square, Text } from '@chakra-ui/layout';\nimport { Avatar, Button, Grid, GridItem, IconButton } from '@chakra-ui/react';\nimport { withUrqlClient } from 'next-urql';\nimport { useRouter } from \"next/router\";\nimport NextLink from \"next/link\";\nimport React, { useState } from \"react\";\nimport { Header } from \"../components/Header\";\nimport Layout from \"../components/Layout\";\nimport { useGetClassroomsQuery, useMyCoursesQuery } from '../generated/graphql';\nimport { urqlClient } from \"../utils/urqlClient\";\nimport Classroom from '../components/Classroom';\nimport { ArrowForwardIcon, ChevronLeftIcon, ChevronRightIcon } from '@chakra-ui/icons';\n\nvar HomeUser = function HomeUser() {\n  var router = useRouter();\n\n  var _useGetClassroomsQuer = useGetClassroomsQuery(),\n      _useGetClassroomsQuer2 = _slicedToArray(_useGetClassroomsQuer, 1),\n      _useGetClassroomsQuer3 = _useGetClassroomsQuer2[0],\n      data = _useGetClassroomsQuer3.data,\n      fetching = _useGetClassroomsQuer3.fetching;\n\n  var _useState = useState(1),\n      page = _useState[0],\n      setPage = _useState[1];\n\n  var classrooms = null;\n  var all = null;\n  var max = 0;\n\n  if (fetching) {} else if (!data || !data.classrooms) {} else {\n    var pagedClassrooms = data.classrooms.slice(page - 1, page + 1);\n    max = Math.round(data.classrooms.length / 2);\n    all = /*#__PURE__*/_jsxs(Box, {\n      children: [/*#__PURE__*/_jsxs(Flex, {\n        children: [/*#__PURE__*/_jsx(Heading, {\n          as: \"h2\",\n          children: \"Cursos\"\n        }), /*#__PURE__*/_jsxs(Box, {\n          ml: \"auto\",\n          children: [/*#__PURE__*/_jsx(IconButton, {\n            mr: \"2rem\",\n            onClick: function onClick() {\n              return page > 1 && setPage(page - 1);\n            },\n            colorScheme: \"blue\",\n            \"aria-label\": \"Previous Page\",\n            icon: /*#__PURE__*/_jsx(ChevronLeftIcon, {})\n          }), /*#__PURE__*/_jsx(IconButton, {\n            onClick: function onClick() {\n              return page <= max && setPage(page + 1);\n            },\n            ml: \"\",\n            colorScheme: \"blue\",\n            \"aria-label\": \"Next Page\",\n            icon: /*#__PURE__*/_jsx(ChevronRightIcon, {})\n          })]\n        })]\n      }), /*#__PURE__*/_jsx(Flex, {\n        columns: 2,\n        mt: \"2rem\",\n        children: pagedClassrooms.map(function (value) {\n          return /*#__PURE__*/_jsx(Box, {\n            mr: \"1.5rem\",\n            children: /*#__PURE__*/_createElement(Classroom, _objectSpread(_objectSpread({\n              size: \"small\"\n            }, value), {}, {\n              key: value.id\n            }))\n          });\n        })\n      })]\n    });\n  }\n\n  var _useMyCoursesQuery = useMyCoursesQuery(),\n      _useMyCoursesQuery2 = _slicedToArray(_useMyCoursesQuery, 1),\n      courses = _useMyCoursesQuery2[0];\n\n  if (courses.fetching) {} else if (!courses.data || !courses.data.mycourses) {} else {\n    classrooms = /*#__PURE__*/_jsx(SimpleGrid, {\n      columns: 2,\n      mt: \"2rem\",\n      spacing: \"2rem\",\n      px: \"1rem\",\n      children: courses.data.mycourses.map(function (value, mapIndex) {\n        return /*#__PURE__*/_jsxs(Flex, {\n          border: \"1px\",\n          borderColor: \"gray.100\",\n          w: '14rem',\n          rounded: \"lg\",\n          bg: \"white\",\n          shadow: \"md\",\n          children: [/*#__PURE__*/_jsx(Square, {\n            bg: \"indigo\",\n            w: \"10%\"\n          }), /*#__PURE__*/_jsxs(Box, {\n            p: \"2rem\",\n            children: [/*#__PURE__*/_jsxs(Text, {\n              ml: \"auto\",\n              as: \"sup\",\n              children: [\"#\", value.classrooms[0].id]\n            }), /*#__PURE__*/_jsx(NextLink, {\n              href: \"/course/\" + value.classrooms[0].id,\n              children: /*#__PURE__*/_jsx(Link, {\n                children: /*#__PURE__*/_jsx(Heading, {\n                  as: \"h3\",\n                  size: \"sm\",\n                  children: value.name\n                })\n              })\n            }), /*#__PURE__*/_jsx(Text, {\n              as: \"sub\",\n              children: value.name\n            })]\n          }), value.classrooms[0].teacher && /*#__PURE__*/_jsx(NextLink, {\n            href: \"/teacher/\" + value.classrooms[0].teacher.id,\n            children: /*#__PURE__*/_jsx(Avatar, {\n              name: value.classrooms[0].teacher.user.name,\n              mt: \"2rem\",\n              mr: \"2em\"\n            })\n          })]\n        });\n      })\n    });\n  }\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(Header, {}), /*#__PURE__*/_jsx(Layout, {\n      size: \"big\",\n      children: /*#__PURE__*/_jsxs(Grid, {\n        h: \"100vh\",\n        w: \"100wh\",\n        templateRows: \"repeat(2, 1fr)\",\n        templateColumns: \"repeat(4, 1fr)\",\n        gap: 4,\n        children: [/*#__PURE__*/_jsxs(GridItem, {\n          rowSpan: 2,\n          p: \"2rem\",\n          colSpan: 2,\n          shadow: \"md\",\n          rounded: \"lg\",\n          children: [/*#__PURE__*/_jsx(Heading, {\n            as: \"h2\",\n            children: \"Mis cursos\"\n          }), classrooms]\n        }), /*#__PURE__*/_jsx(GridItem, {\n          p: \"2rem\",\n          colSpan: 2,\n          shadow: \"md\",\n          rounded: \"lg\",\n          children: all\n        }), /*#__PURE__*/_jsxs(GridItem, {\n          p: \"2rem\",\n          colSpan: 2,\n          children: [/*#__PURE__*/_jsx(Box, {\n            shadow: \"md\",\n            rounded: \"lg\",\n            height: \"95%\",\n            children: /*#__PURE__*/_jsx(Heading, {\n              as: \"h2\",\n              children: \"Cursos Recomendados\"\n            })\n          }), /*#__PURE__*/_jsxs(Button, {\n            colorScheme: \"blue\",\n            width: \"100%\",\n            onClick: function onClick() {\n              return router.push('/course/calendar');\n            },\n            children: [\"Ver calendario de matriculas \", /*#__PURE__*/_jsx(ArrowForwardIcon, {\n              h: 8,\n              w: 8\n            })]\n          })]\n        })]\n      })\n    })]\n  });\n};\n\nexport default withUrqlClient(urqlClient)(HomeUser);","map":null,"metadata":{},"sourceType":"module"}