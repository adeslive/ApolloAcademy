{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"C:/Users/Usuario/Documents/Proyectos/apollo-academy/apollo-academy-web/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/Usuario/Documents/Proyectos/apollo-academy/apollo-academy-web/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:/Users/Usuario/Documents/Proyectos/apollo-academy/apollo-academy-web/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { withUrqlClient } from \"next-urql\";\nimport { useRouter } from \"next/router\";\nimport { useEffect } from \"react\";\nimport { usePayMutation } from \"../../generated/graphql\";\nimport { urqlClient } from \"../../utils/urqlClient\";\n\nvar Pay = function Pay() {\n  var router = useRouter();\n  var _router$query = router.query,\n      pid = _router$query.pid,\n      key = _router$query.key;\n\n  var _usePayMutation = usePayMutation(),\n      _usePayMutation2 = _slicedToArray(_usePayMutation, 2),\n      pay = _usePayMutation2[1];\n\n  useEffect(function () {\n    var classroom = typeof pid == 'string' ? pid : '-1';\n    var payment_key = typeof key == 'string' ? key : '-1';\n\n    function makePayment() {\n      return _makePayment.apply(this, arguments);\n    }\n\n    function _makePayment() {\n      _makePayment = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var payment;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return pay({\n                  id: classroom,\n                  key: payment_key\n                });\n\n              case 2:\n                payment = _context.sent;\n                return _context.abrupt(\"return\", payment);\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return _makePayment.apply(this, arguments);\n    }\n\n    makePayment()[\"finally\"](function () {\n      router.push('/home');\n    });\n  }, []);\n  return /*#__PURE__*/_jsx(_Fragment, {});\n};\n\nexport default withUrqlClient(urqlClient, {\n  ssr: true\n})(Pay);","map":null,"metadata":{},"sourceType":"module"}