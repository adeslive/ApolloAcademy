{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\Usuario\\\\Documents\\\\Proyectos\\\\apollo-academy\\\\apollo-academy-web\\\\pages\\\\login.tsx\";\nimport { Button } from '@chakra-ui/button';\nimport { Box } from '@chakra-ui/layout';\nimport { Form, Formik } from 'formik';\nimport { withUrqlClient } from 'next-urql';\nimport { useRouter } from 'next/router';\nimport InputField from '../components/InputField';\nimport Layout from '../components/Layout';\nimport { useLoginMutation } from '../generated/graphql';\nimport ErrorMap from '../utils/error-map';\nimport { urqlClient } from '../utils/urqlClient';\nimport NextLink from 'next/link';\nimport { Link, Text, Center, Image, Stack } from \"@chakra-ui/react\";\nimport { Header } from \"../components/Header\";\nimport { ExternalLinkIcon } from '@chakra-ui/icons';\n\n// TO DO Cambiar mutacion\n// Luego de que se cambie el proceso de registro, se tiene que cambiar la mutacion a un UserResponse\nconst Login = ({}) => {\n  const router = useRouter();\n  const [, login] = useLoginMutation();\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      bgGradient: \"linear(to-r, green.200, pink.500)\",\n      position: \"fixed\",\n      width: \"100%\",\n      height: \"100%\",\n      children: /*#__PURE__*/_jsxDEV(Center, {\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          maxW: \"md\",\n          borderWidth: \"1px\",\n          borderRadius: \"lg\",\n          backgroundColor: \"white\",\n          width: \"100%\",\n          margin: \"1%\",\n          height: \"520px\",\n          children: [/*#__PURE__*/_jsxDEV(Text, {\n            fontSize: \"28px\",\n            fontWeight: \"bold\",\n            padding: \"25px 25px 0 25px\",\n            color: \"#D7933A\",\n            children: \"Iniciar Sesi\\xF3n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 31,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Layout, {\n            children: [/*#__PURE__*/_jsxDEV(Formik, {\n              initialValues: {\n                password: \"\",\n                email: \"\"\n              },\n              onSubmit: async (values, {\n                setErrors\n              }) => {\n                var _res$data, _res$data3;\n\n                const res = await login(values);\n\n                if ((_res$data = res.data) !== null && _res$data !== void 0 && _res$data.login.errors) {\n                  var _res$data2;\n\n                  setErrors(ErrorMap((_res$data2 = res.data) === null || _res$data2 === void 0 ? void 0 : _res$data2.login.errors));\n                } else if ((_res$data3 = res.data) !== null && _res$data3 !== void 0 && _res$data3.login.user) {\n                  router.push('/');\n                }\n              },\n              children: ({\n                isSubmitting\n              }) => /*#__PURE__*/_jsxDEV(Form, {\n                children: [/*#__PURE__*/_jsxDEV(InputField, {\n                  name: \"email\",\n                  label: \"Correo Electr\\xF3nico\",\n                  placeholder: \"juan@ejemplo.com\",\n                  type: \"email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 46,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(Box, {\n                  mt: 4,\n                  children: /*#__PURE__*/_jsxDEV(InputField, {\n                    name: \"password\",\n                    label: \"Contrase\\xF1a\",\n                    placeholder: \"Contrase\\xF1a\",\n                    type: \"password\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 48,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 47,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(Stack, {\n                  children: [/*#__PURE__*/_jsxDEV(Button, {\n                    mt: 4,\n                    type: \"submit\",\n                    isLoading: isSubmitting,\n                    colorScheme: \"teal\",\n                    children: \"Ingresar\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 51,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 52,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                    href: \"http://localhost:8080/auth/facebook\",\n                    children: /*#__PURE__*/_jsxDEV(Button, {\n                      width: \"100%\",\n                      mt: 2,\n                      type: \"button\",\n                      colorScheme: \"facebook\",\n                      children: [/*#__PURE__*/_jsxDEV(Image, {\n                        src: \"facebook_icon.png\",\n                        boxSize: \"20px\",\n                        borderRadius: \"full\",\n                        marginX: \"7px\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 53,\n                        columnNumber: 140\n                      }, this), \"Iniciar con Facebook\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 53,\n                      columnNumber: 75\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 53,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                    href: \"http://localhost:8080/google\",\n                    children: /*#__PURE__*/_jsxDEV(Button, {\n                      width: \"100%\",\n                      mt: 2,\n                      type: \"button\",\n                      colorScheme: \"gray\",\n                      children: [/*#__PURE__*/_jsxDEV(Image, {\n                        src: \"gmail_icon.png\",\n                        boxSize: \"20px\",\n                        borderRadius: \"full\",\n                        marginX: \"7px\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 54,\n                        columnNumber: 129\n                      }, this), \"Iniciar con Google\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 54,\n                      columnNumber: 68\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 54,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 50,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 45,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 33,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              paddingTop: \"25px\",\n              children: /*#__PURE__*/_jsxDEV(NextLink, {\n                href: \"/restorepassword\",\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  color: \"teal.500\",\n                  children: [\"Olvidaste tu contrase\\xF1a\", /*#__PURE__*/_jsxDEV(ExternalLinkIcon, {\n                    mx: \"2px\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 61,\n                    columnNumber: 63\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 61,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 32,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n\nexport default withUrqlClient(urqlClient)(Login);","map":{"version":3,"sources":["C:/Users/Usuario/Documents/Proyectos/apollo-academy/apollo-academy-web/pages/login.tsx"],"names":["Button","Box","Form","Formik","withUrqlClient","useRouter","InputField","Layout","useLoginMutation","ErrorMap","urqlClient","NextLink","Link","Text","Center","Image","Stack","Header","ExternalLinkIcon","Login","router","login","password","email","values","setErrors","res","data","errors","user","push","isSubmitting"],"mappings":"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","sourcesContent":["import { Button } from '@chakra-ui/button';\r\nimport { Box } from '@chakra-ui/layout';\r\nimport { Form, Formik } from 'formik';\r\nimport { withUrqlClient } from 'next-urql';\r\nimport { useRouter } from 'next/router';\r\nimport InputField from '../components/InputField';\r\nimport Layout from '../components/Layout';\r\nimport { useLoginMutation } from '../generated/graphql';\r\nimport ErrorMap from '../utils/error-map';\r\nimport { urqlClient } from '../utils/urqlClient';\r\nimport NextLink from 'next/link';\r\nimport { Link, Text, Center, Image, Stack } from \"@chakra-ui/react\";\r\nimport { Header } from \"../components/Header\";\r\nimport { ExternalLinkIcon } from '@chakra-ui/icons'\r\n\r\ninterface loginProps {}\r\n\r\n// TO DO Cambiar mutacion\r\n// Luego de que se cambie el proceso de registro, se tiene que cambiar la mutacion a un UserResponse\r\n\r\nconst Login : React.FC<loginProps>  = ({}) => {\r\n    const router = useRouter();\r\n    const [, login] = useLoginMutation();\r\n    \r\n    return(\r\n        <>\r\n        <Header/>\r\n        <Box bgGradient=\"linear(to-r, green.200, pink.500)\" position=\"fixed\" width=\"100%\" height=\"100%\" >\r\n        <Center>\r\n        <Box maxW=\"md\" borderWidth=\"1px\" borderRadius=\"lg\" backgroundColor=\"white\" width=\"100%\" margin=\"1%\" height=\"520px\">\r\n        <Text fontSize=\"28px\" fontWeight=\"bold\" padding=\"25px 25px 0 25px\" color=\"#D7933A\">Iniciar Sesión</Text>\r\n        <Layout >\r\n            <Formik\r\n                initialValues={{password:\"\", email:\"\"}}\r\n                onSubmit={async (values, {setErrors}) => {\r\n                    const res = await login(values);\r\n                    if(res.data?.login.errors) {\r\n                        setErrors(ErrorMap(res.data?.login.errors));\r\n                    }else if(res.data?.login.user){\r\n                        router.push('/');\r\n                    }                    \r\n                }}\r\n            > \r\n                {({isSubmitting}) => (\r\n                <Form>\r\n                        <InputField name=\"email\" label=\"Correo Electrónico\" placeholder=\"juan@ejemplo.com\" type=\"email\" />\r\n                        <Box mt={4}>\r\n                            <InputField name=\"password\" label=\"Contraseña\" placeholder=\"Contraseña\" type=\"password\"/>\r\n                        </Box>\r\n                        <Stack>\r\n                            <Button mt={4} type=\"submit\"  isLoading={isSubmitting} colorScheme=\"teal\">Ingresar</Button>\r\n                            <hr/>\r\n                            <a href=\"http://localhost:8080/auth/facebook\"><Button width=\"100%\" mt={2} type=\"button\" colorScheme=\"facebook\"><Image src=\"facebook_icon.png\" boxSize=\"20px\" borderRadius=\"full\" marginX=\"7px\"></Image>Iniciar con Facebook</Button></a>\r\n                            <a href=\"http://localhost:8080/google\"><Button width=\"100%\" mt={2} type=\"button\" colorScheme=\"gray\"><Image src=\"gmail_icon.png\" boxSize=\"20px\" borderRadius=\"full\" marginX=\"7px\"></Image>Iniciar con Google</Button></a>\r\n                        </Stack>\r\n                </Form>\r\n                )}\r\n            </Formik>\r\n            <Box paddingTop=\"25px\">\r\n            <NextLink href=\"/restorepassword\">\r\n                <Link color=\"teal.500\">Olvidaste tu contraseña<ExternalLinkIcon mx=\"2px\" /></Link>\r\n            </NextLink>\r\n            </Box>\r\n        </Layout>\r\n        </Box>\r\n        </Center>\r\n        </Box>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default withUrqlClient(urqlClient)(Login);"]},"metadata":{},"sourceType":"module"}